<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../css/pmag.css" type="text/css" />
</head>
<body>
<div id="header_wrap">
   <h1><a href="https://www.facebook.com/groups/programmerMagazine">程式人雜誌</a> <sub> --  <a href="http://programmermagazine.github.io/201409/htm/home.html">2014 年 9 月號</a> (開放公益出版品)</sub></h1>
</div>
<div id="content">
<div id="TOC">
<ul>
<li><a href="#css-的變種-less-與-sass">CSS 的變種： LESS 與 SASS</a></li>
</ul>
</div>
<h2 id="css-的變種-less-與-sass"><a href="#css-的變種-less-與-sass">CSS 的變種： LESS 與 SASS</a></h2>
<p>瀏覽器所認識的語言，不外乎是 HTML/CSS/JavaScript 這些 W3C 所規定的官方語言。因此像 LESS 與 SASS 這些語言，當然就屬於「非官方語言」，也就是「變種」。</p>
<p>LESS 與 SASS 都是 CSS 的變種，語法和 CSS 有點像，但卻又不太一樣。這類變種語言通常提供了更強大的功能，更簡潔的語法，而且最後會被轉換成 CSS 語言之後，才能放到瀏覽器上使用。</p>
<h3 id="變種-1-less"><a href="#變種-1-less">變種 1 : LESS</a></h3>
<p>LESS 是由 Alexis Sellier 所設計的工具，原本是用 Ruby 實作，用來將 LESS 語法轉換成 CSS 語言。後來改用 JavaScript 設計後，就能內嵌到瀏覽器中，動態的將 LESS 轉為 CSS 後立刻呈現。</p>
<p>舉例而言、 LESS 擁有變數的慨念，例如以下範例中的 <code>@color</code> 就是一個變數。</p>
<pre class="sourceCode CSS"><code class="sourceCode css">@color<span class="dv">:</span> <span class="fl">#4D926F</span>;
 
<span class="fl">#header</span> <span class="kw">{</span>
  <span class="kw">color:</span> @color<span class="kw">;</span>
<span class="kw">}</span>
h2 <span class="kw">{</span>
  <span class="kw">color:</span> @color<span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>上述 LESS 文件被轉換成 CSS 之後，會變成下列形式。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">#header</span> <span class="kw">{</span>
  <span class="kw">color:</span> <span class="dt">#4D926F</span><span class="kw">;</span>
<span class="kw">}</span>
h2 <span class="kw">{</span>
  <span class="kw">color:</span> <span class="dt">#4D926F</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>當然、LESS 還支援更強大的語法，例如 Mixin 就是個經典的功能，以下是一個簡單的範例。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">.rounded-corners</span> (@radius<span class="dv">:</span> 5px) <span class="kw">{</span>
  <span class="kw">border-radius:</span> @radius<span class="kw">;</span>
  <span class="kw">-webkit-border-radius:</span> @radius<span class="kw">;</span>
  <span class="kw">-moz-border-radius:</span> @radius<span class="kw">;</span>
<span class="kw">}</span>
 
<span class="fl">#header</span> <span class="kw">{</span>
  <span class="er">.rounded-corners;</span>
<span class="kw">}</span>
<span class="fl">#footer</span> <span class="kw">{</span>
  <span class="er">.rounded-corners(10px);</span>
<span class="kw">}</span></code></pre>
<p>上述文件被轉換成 CSS 之後會變成下列形式。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">#header</span> <span class="kw">{</span>
  <span class="kw">border-radius:</span> <span class="dt">5px</span><span class="kw">;</span>
  <span class="kw">-webkit-border-radius:</span> <span class="dt">5px</span><span class="kw">;</span>
  <span class="kw">-moz-border-radius:</span> <span class="dt">5px</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">#footer</span> <span class="kw">{</span>
  <span class="kw">border-radius:</span> <span class="dt">10px</span><span class="kw">;</span>
  <span class="kw">-webkit-border-radius:</span> <span class="dt">10px</span><span class="kw">;</span>
  <span class="kw">-moz-border-radius:</span> <span class="dt">10px</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>LESS 可以提供層次結構的套嵌語法，以下是一個範例。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">#header</span> <span class="kw">{</span>
  <span class="er">h1</span> <span class="er">{</span>
    <span class="kw">font-size:</span> <span class="dt">26px</span><span class="kw">;</span>
    <span class="kw">font-weight:</span> <span class="dt">bold</span><span class="kw">;</span>
  <span class="kw">}</span>
  p <span class="kw">{</span> <span class="kw">font-size:</span> <span class="dt">12px</span><span class="kw">;</span>
    <span class="er">a</span> <span class="er">{</span> <span class="kw">text-decoration:</span> <span class="dt">none</span><span class="kw">;</span>
      <span class="er">&amp;:hover</span> <span class="er">{</span> <span class="kw">border-width:</span> <span class="dt">1px</span> <span class="kw">}</span>
    }
  }
}</code></pre>
<p>上述範例被轉換成 CSS 之後如下所示。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">#header</span> h1 <span class="kw">{</span>
  <span class="kw">font-size:</span> <span class="dt">26px</span><span class="kw">;</span>
  <span class="kw">font-weight:</span> <span class="dt">bold</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">#header</span> p <span class="kw">{</span>
  <span class="kw">font-size:</span> <span class="dt">12px</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">#header</span> p a <span class="kw">{</span>
  <span class="kw">text-decoration:</span> <span class="dt">none</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">#header</span> p a<span class="dv">:hover</span> <span class="kw">{</span>
  <span class="kw">border-width:</span> <span class="dt">1px</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>另外、 LESS 還提供了「運算式與函數呼叫」等功能，請看以下範例。</p>
<pre class="sourceCode CSS"><code class="sourceCode css">@the-border<span class="dv">:</span> 1px;
@base-color<span class="dv">:</span> <span class="fl">#111</span>;
@red<span class="dv">:</span>        <span class="fl">#842210</span>;
 
<span class="fl">#header</span> <span class="kw">{</span>
  <span class="kw">color:</span> @base-color * <span class="dt">3</span><span class="kw">;</span>
  <span class="kw">border-left:</span> @the-border<span class="kw">;</span>
  <span class="kw">border-right:</span> @the-border * <span class="dt">2</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">#footer</span> <span class="kw">{</span> 
  <span class="kw">color:</span> @base-color + <span class="dt">#003300</span><span class="kw">;</span>
  <span class="kw">border-color:</span> desaturate(@red, <span class="dt">10%</span>)<span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>上述範例轉換成 CSS 之後，應該會像下面文件這樣。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">#header</span> <span class="kw">{</span>
  <span class="kw">color:</span> <span class="dt">#333</span><span class="kw">;</span>
  <span class="kw">border-left:</span> <span class="dt">1px</span><span class="kw">;</span>
  <span class="kw">border-right:</span> <span class="dt">2px</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">#footer</span> <span class="kw">{</span> 
  <span class="kw">color:</span> <span class="dt">#114411</span><span class="kw">;</span>
  <span class="kw">border-color:</span> <span class="dt">#7d2717</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<h3 id="變種-2-sass"><a href="#變種-2-sass">變種 2 : SASS</a></h3>
<p>SASS (Syntactically Awesome Stylesheets) 是由 Hampton Catlin 設計，然後由 Natalie Weizenbaum 實作的一種樣式語言。</p>
<p>如果您瞭解 JavaScript 與 Python 的差別，或許就能輕易理解 LESS 與 SASS 的差別了。</p>
<p>LESS 與 JavaScript 一樣，有用 {...} 的大括號框起來，而 SASS 則像 Python 一樣，沒有用大括號，而是透過換行與縮排來表現這種層次結構。</p>
<p>事實上，SASS 還有一個變種，就是加上大括號的版本，稱為 SCSS，這兩種風格可以互相轉換，您可以依照習慣挑選使用。</p>
<p>舉例而言，以下是一個 SASS 與 SCSS 的對照範例。</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;table&gt;&lt;tr&gt;&lt;th&gt;</span>SASS<span class="kw">&lt;/th&gt;&lt;th&gt;</span>SCSS<span class="kw">&lt;/th&gt;&lt;/tr&gt;</span>
<span class="kw">&lt;tr&gt;&lt;td&gt;</span>
$blue: #3bbfce
$margin: 16px
 
.content-navigation
  border-color: $blue
  color: darken($blue, 9%)
 
.border
  padding: $margin/2
  margin:  $margin/2
  border-color: $blue
<span class="kw">&lt;/td&gt;&lt;td&gt;</span>
$blue: #3bbfce;
$margin: 16px;
 
.content-navigation {
  border-color: $blue;
  color: darken($blue, 20%);
}
 
.border {
  padding: $margin / 2;
  margin: $margin / 2;
  border-color: $blue;
}
<span class="kw">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="kw">&lt;/table&gt;</span></code></pre>
<p>SASS 與 LESS 都提供了「變數、mixin、函數」等功能，但是 SASS 還提供了「繼承」的功能，以下是一個範例。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">.error</span>
  border<span class="dv">:</span> 1px <span class="fl">#f00</span>;
  background<span class="dv">:</span> <span class="fl">#fdd</span>;

<span class="fl">.error.intrusion</span>
  font-size<span class="dv">:</span> 1<span class="fl">.3em</span>;
  font-weight<span class="dv">:</span> bold;

<span class="fl">.badError</span>
  @extend <span class="fl">.error</span>;
  border-width<span class="dv">:</span> 3px;</code></pre>
<p>上述範例轉換成 CSS 之後，將會產生下列文件。</p>
<pre class="sourceCode CSS"><code class="sourceCode css"><span class="fl">.error</span>, <span class="fl">.badError</span> <span class="kw">{</span>
  <span class="kw">border:</span> <span class="dt">1px</span> <span class="dt">#f00</span><span class="kw">;</span>
  <span class="kw">background:</span> <span class="dt">#fdd</span><span class="kw">;</span>
<span class="kw">}</span>
 
<span class="fl">.error.intrusion</span>,
<span class="fl">.badError.intrusion</span> <span class="kw">{</span>
  <span class="kw">font-size:</span> <span class="dt">1.3em</span><span class="kw">;</span>
  <span class="kw">font-weight:</span> <span class="dt">bold</span><span class="kw">;</span>
<span class="kw">}</span>
 
<span class="fl">.badError</span> <span class="kw">{</span>
  <span class="kw">border-width:</span> <span class="dt">3px</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>除此之外，SASS 還提供了多重繼承的功能。</p>
<p>由於 SASS 主要是用 Ruby 實作的，因此不像 LESS 一樣有提供立即在瀏覽器內用 JavaScript 轉換成 CSS 的功能，不過開放原始碼的領域無奇不有，或許也有人用 JavaScript 實作出 SASS 轉 CSS 的功能也說不定。</p>
<h3 id="參考文獻"><a href="#參考文獻">參考文獻</a></h3>
<ul>
<li><a href="https://ruby-china.org/topics/4370">聊聊主流框架，Less/Sass/Compass/Bootstrap/H5bp</a></li>
<li><a href="http://www.oschina.net/question/12_44255">为您详细比较三个 CSS 预处理器（框架）：Sass、LESS 和 Stylus</a></li>
<li><a href="http://lesscss.org/">http://lesscss.org/</a></li>
<li><a href="http://sass-lang.com/">http://sass-lang.com/</a></li>
<li>Wikipedia:<a href="http://zh.wikipedia.org/wiki/LESS_(%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8)">LESS層疊樣式表</a></li>
<li><a href="http://sass-lang.com/guide">http://sass-lang.com/guide</a></li>
</ul>
<p>【本文由陳鍾誠取材並修改自 <a href="http://zh.wikipedia.org/">維基百科</a>，採用創作共用的 <a href="http://creativecommons.org/licenses/by-sa/3.0/tw/">姓名標示、相同方式分享</a> 授權】</p>
</div>
<div id="footer">
<a href="https://www.facebook.com/groups/programmerMagazine/">程式人雜誌</a> ，採用 <a href="http://creativecommons.org/licenses/by-sa/3.0/tw/ ">創作共用：姓名標示、相同方式分享</a> 授權，歡迎加入 <a href="https://www.facebook.com/groups/programmerMagazine/">雜誌社團</a>
</div>
</body>
</html>
